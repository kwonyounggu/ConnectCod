(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=h(r(1)),s=r(239),i=h(r(970)),l=r(84),u=r(0),c=h(r(259)),d=r(83),p=r(971),f=r(85);function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log("INFO (constructor() of resetPassword.jsx"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){console.log("----INFO (render() of resetPassword.jsx) is called------");var e=c.default.parse(this.props.location.search);if(null!=e.status&&1==parseInt(e.status)&&null!=e.email&&null!=e.name&&null!=e.token)return o.default.createElement(s.Grid,null,o.default.createElement(s.Row,null,o.default.createElement(s.Col,{md:4,mdOffset:4},o.default.createElement(i.default,n({email:e.email,name:e.name,token:e.token,resetPasswordRequest:this.props.resetPasswordRequest,addAlertMessage:this.props.addAlertMessage},this.props.location)))));var t=null!=e.status?parseInt(e.status):-1,r="Oops! You can only reset your password following through your email link.";return 2==t?r="Oops! Resetting your password time is expired! please do again.":3==t&&(r="Oops! Resetting your password is already done! please do again."),this.props.addAlertMessage({type:"failure",text:r}),o.default.createElement("div",null,o.default.createElement(d.Redirect,{to:"/forgotPassword"}))}}]),t}();y.propTypes={resetPasswordRequest:u.PropTypes.func.isRequired,addAlertMessage:u.PropTypes.func.isRequired},t.default=(0,l.connect)(null,{resetPasswordRequest:p.resetPasswordRequest,addAlertMessage:f.addAlertMessage})(y)},259:function(e,t,r){"use strict";var n=r(263),a=r(30);function o(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=a({arrayFormat:"none"},t)),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),r(decodeURIComponent(a),o,n)}),Object.keys(n).sort().reduce(function(e,t){var r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(r):e[t]=r,e},Object.create(null))):n},t.stringify=function(e,t){var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[o(t,e),"[",n,"]"].join(""):[o(t,e),"[",o(n,e),"]=",o(r,e)].join("")};case"bracket":return function(t,r){return null===r?o(t,e):[o(t,e),"[]=",o(r,e)].join("")};default:return function(t,r){return null===r?o(t,e):[o(t,e),"=",o(r,e)].join("")}}}(t=a({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map(function(n){var a=e[n];if(void 0===a)return"";if(null===a)return o(n,t);if(Array.isArray(a)){var s=[];return a.slice().forEach(function(e){void 0!==e&&s.push(r(n,e,s.length))}),s.join("&")}return o(n,t)+"="+o(a,t)}).filter(function(e){return e.length>0}).join("&"):""}},263:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},274:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),o=r(239);t.default=function(e){var t=e.id,r=e.label,s=e.help,i=e.checkUserExists,l=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["id","label","help","checkUserExists"]);return a.default.createElement(o.FormGroup,{controlId:t,validationState:s?"error":null},a.default.createElement(o.ControlLabel,null,r),a.default.createElement(o.FormControl,n({onBlur:i},l)),s&&a.default.createElement(o.HelpBlock,null,s))}},327:function(e,t,r){e.exports=function(e){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(6),s=n(o),i=r(4),l=n(i),u={className:l.default.string,onloadCallbackName:l.default.string,elementID:l.default.string,onloadCallback:l.default.func,verifyCallback:l.default.func,expiredCallback:l.default.func,render:l.default.oneOf(["onload","explicit"]),sitekey:l.default.string,theme:l.default.oneOf(["light","dark"]),type:l.default.string,verifyCallbackName:l.default.string,expiredCallbackName:l.default.string,size:l.default.oneOf(["invisible","compact","normal"]),tabindex:l.default.string,hl:l.default.string,badge:l.default.oneOf(["bottomright","bottomleft","inline"])},c=function(){return"undefined"!=typeof window&&void 0!==window.grecaptcha&&"function"==typeof window.grecaptcha.render},d=void 0,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._renderGrecaptcha=r._renderGrecaptcha.bind(r),r.reset=r.reset.bind(r),r.state={ready:c(),widget:null},r.state.ready||"undefined"==typeof window||(d=setInterval(r._updateReadyState.bind(r),1e3)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.state.ready&&this._renderGrecaptcha()}},{key:"componentDidUpdate",value:function(e,t){var r=this.props,n=r.render,a=r.onloadCallback;"explicit"===n&&a&&this.state.ready&&!t.ready&&this._renderGrecaptcha()}},{key:"componentWillUnmount",value:function(){clearInterval(d)}},{key:"reset",value:function(){var e=this.state,t=e.ready,r=e.widget;t&&null!==r&&grecaptcha.reset(r)}},{key:"execute",value:function(){var e=this.state,t=e.ready,r=e.widget;t&&null!==r&&grecaptcha.execute(r)}},{key:"_updateReadyState",value:function(){c()&&(this.setState({ready:!0}),clearInterval(d))}},{key:"_renderGrecaptcha",value:function(){this.state.widget=grecaptcha.render(this.props.elementID,{sitekey:this.props.sitekey,callback:this.props.verifyCallback?this.props.verifyCallback:void 0,theme:this.props.theme,type:this.props.type,size:this.props.size,tabindex:this.props.tabindex,hl:this.props.hl,badge:this.props.badge,"expired-callback":this.props.expiredCallback?this.props.expiredCallback:void 0}),this.props.onloadCallback&&this.props.onloadCallback()}},{key:"render",value:function(){return"explicit"===this.props.render&&this.props.onloadCallback?s.default.createElement("div",{id:this.props.elementID,"data-onloadcallbackname":this.props.onloadCallbackName,"data-verifycallbackname":this.props.verifyCallbackName}):s.default.createElement("div",{id:this.props.elementID,className:this.props.className,"data-sitekey":this.props.sitekey,"data-theme":this.props.theme,"data-type":this.props.type,"data-size":this.props.size,"data-badge":this.props.badge,"data-tabindex":this.props.tabindex})}}]),t}(o.Component);t.default=p,p.propTypes=u,p.defaultProps={elementID:"g-recaptcha",className:"g-recaptcha",onloadCallback:void 0,onloadCallbackName:"onloadCallback",verifyCallback:void 0,verifyCallbackName:"verifyCallback",expiredCallback:void 0,expiredCallbackName:"expiredCallback",render:"onload",theme:"light",type:"image",size:"normal",tabindex:"0",hl:"en",badge:"bottomright"},e.exports=t.default},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";var n=function(e){};e.exports=function(e,t,r,a,o,s,i,l){if(n(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,a,o,s,i,l],d=0;(u=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,r){"use strict";var n=r(1),a=r(2),o=r(5);e.exports=function(){function e(e,t,r,n,s,i){i!==o&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){e.exports=r(3)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,r){t.exports=e}])}(r(1))},970:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=p(r(1)),o=(r(83),r(239)),s=(r(51),r(0)),i=p(r(274)),l=(p(r(47)),p(r(259)),p(r(301))),u=p(r(86)),c=r(15),d=p(r(327));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={email:e.email,token:e.token,fullName:e.name,password:"",passwordConfirmation:"",errors:{},isLoading:!1,invalid:!1,isHuman:!1},r.onChange=r.onChange.bind(r),r.onSubmit=r.onSubmit.bind(r),r.isValid=r.isValid.bind(r),r.callbackBot=r.callbackBot.bind(r),r.verifyCallbackBot=r.verifyCallbackBot.bind(r),r.expiredCallbackBot=r.expiredCallbackBot.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"callbackBot",value:function(){this.setState({isHuman:!1})}},{key:"verifyCallbackBot",value:function(e){this.setState({isHuman:!0})}},{key:"expiredCallbackBot",value:function(){this.setState({isHuman:!1})}},{key:"onChange",value:function(e){this.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e.target.name,e.target.value))}},{key:"isValid",value:function(){var e={};l.default.isEmpty(this.state.password)?e.password="This field is required.":l.default.isByteLength(this.state.password,{min:2,max:30})||(e.password="This field length requires between 2 and 30."),l.default.isEmpty(this.state.passwordConfirmation)?e.passwordConfirmation="This field is required.":l.default.equals(this.state.password,this.state.passwordConfirmation)||(e.passwordConfirmation="Passwords must match."),this.state.isHuman||(e.isHuman="This field is required.");var t=(0,u.default)(e);return t||this.setState({errors:e}),t}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.isValid()&&(this.setState({errors:{},isLoading:!0}),this.props.resetPasswordRequest(this.state).then(function(e){console.log("successful, the response object=",e),e.data.invalid?t.setState({errors:e.data.errors,isLoading:!1}):(t.props.addAlertMessage({type:"success",text:"You updated your new password successfully!"}),t.context.router.history.push("/login"))}).catch(function(e){console.log("ERROR: ",e),t.setState({isLoading:!1,errors:{serverAPI:e+":::"}})}))}},{key:"render",value:function(){return a.default.createElement(o.Form,{onSubmit:this.onSubmit},a.default.createElement("h1",null,"Reset Password?"),this.state.errors.serverAPI&&a.default.createElement(o.Alert,{bsStyle:"danger"},a.default.createElement("h4",null,this.state.errors.serverAPI.split(":::")[0]),a.default.createElement("h6",null,this.state.errors.serverAPI.split(":::")[1])),a.default.createElement("h4",null,"Hi ",this.props.name,", you may now set your new password!"),a.default.createElement(i.default,{id:"password",type:"password",label:"Password",value:this.state.password,name:"password",placeholder:"Enter your password",onChange:this.onChange,help:this.state.errors.password}),a.default.createElement(i.default,{id:"passwordConfirmation",type:"password",label:"Password Confirmation",value:this.state.passwordConfirmation,name:"passwordConfirmation",placeholder:"Enter your password again",onChange:this.onChange,help:this.state.errors.passwordConfirmation}),a.default.createElement(o.FormGroup,{validationState:"error"},a.default.createElement(d.default,{sitekey:c.siteKey,render:"explicit",verifyCallback:this.verifyCallbackBot,onloadCallback:this.callbackBot,expiredCallback:this.expiredCallbackBot,size:"compact"}),a.default.createElement(o.ControlLabel,null,this.state.errors.isHuman?this.state.errors.isHuman:"")),a.default.createElement(o.FormGroup,null,a.default.createElement(o.Button,{disabled:this.state.isLoading,type:"submit"},"Submit")))}}]),t}();f.propTypes={resetPasswordRequest:s.PropTypes.func.isRequired,addAlertMessage:s.PropTypes.func.isRequired},f.contextTypes={router:s.PropTypes.object.isRequired},t.default=f},971:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetPasswordRequest=function(e){return function(t){return n.default.post(a.default+"jsp/api/users/resetPassword.jsp",e)}};var n=o(r(31)),a=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}}}]);